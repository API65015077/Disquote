<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sidebar</title>
    <link rel="stylesheet" href="{{ url_for('static', path='/style/style-sidebar.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mukta:wght@200;300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="sidebar">
        <header>
            <div class="navbar">
            <div class="logo"><a id="roomName"></a></div>
            <div class="toggle_btn"> <i class="fa-solid fa-chevron-down"></i></div>
            
            </div>
        <div class="dropdown_menu">
            <li><a href="#">Server Setting</a></li>
            <li><a href="#">invite Link</a></li>
            <li><a href="#">Leave Server</a></li>
            <li><a href="#" class="action_btn">Leave</a></li>
        </div>
        
        </header>
        <div class=""><img class="line" src="/src/assets/line.png" alt="Avatar" class="avatar"></div>
        
        <div class="channel">


        <div class="textch">
            <a style="font-family:Mukta">Text Channel </a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; <a href="#" class="add_btn" id="add_btnTxt"><i class="fa-solid fa-plus"></i></a> 
            <div class="ch_room">
            
            
            <ul id="todoListTxt"  > 
                <li><i class="fa fa-hashtag"></i><a href="#" style="font-family: Mukta;">&nbsp;&nbsp;&nbsp;&nbsp;General</a></li></ul>
            </ul>
            </div>
            
        </div>
        <div class="voicech">
            <a style="font-family:Mukta">Voice Channel</a>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="#" class="add_btn" id="add_btnV"><i class="fa-solid fa-plus"></i></a> 
            <div class="voice_room">
            
                <ul id="todoListV"  > 
                    <li><i class="fa fa-volume-high"></i><a href="#" style="font-family: Mukta;">&nbsp;&nbsp;&nbsp;&nbsp;General</a></li></ul>
                </ul>
            </div>
        </div>


        </div>
                <div id="popupTxt">
                <form id="todoFormTxt">

                    <div class="popup_add_content">
                        <h3 style="font-family:mukta">Create Channel</h3>
                        <h6 style="font-family:mukta">Text Channel</h6>
                        <br>
                        <h4 style="font-family:mukta">Channel Name</h4><br>
                        <input type="text" placeholder="Name Channel" style="font-family:mukta" id="todoInputTxt">
                        

                        <button type="submit" style="font-family:mukta" class="btn_add" >Create Channel</button>
                        <a href="#" class="btn_cancel" id="btn_cancelTxt"  style="font-family:mukta">Cancel</a>
                        
                    </div>
                </form>
                </div>

                <div id="popupV">
                    <form id="todoFormV">
    
                        <div class="popup_add_content">
                            <h3 style="font-family:mukta">Create Channel</h3>
                            <h6 style="font-family:mukta">Voice Channel</h6>
                            <br>
                            <h4 style="font-family:mukta">Channel Name</h4><br>
                            <input type="text" placeholder="Name Channel" style="font-family:mukta" id="todoInputV">
                            
    
                            <button type="submit" style="font-family:mukta" class="btn_add"  >Create Channel</button>
                            <a href="#" class="btn_cancel" id="btn_cancelV"  style="font-family:mukta">Cancel</a>
                            
                        </div>
                    </form>
                </div>
        <div class="bottom-button-set">
            <i class="fa fa-user"></i>
            
            <button class="speaker-button" id="speakerbtn"  onclick="toggleButton(this)">
                <i class="fa-solid fa-volume"></i>
            </button>
            <button class="mic-button" onclick="toggleButton(this)" id="micbtn">
              <i class="fa fa-microphone"></i>
            </button>
          </div>
    
    </div>

    <script>
        const roomName = document.getElementById('roomName')
        console.log(roomName);

        const toggleBtn = document.querySelector('.navbar')
        const toggleBtnIcon = document.querySelector('.toggle_btn i')
        const dropDownMenu = document.querySelector('.dropdown_menu')

        toggleBtn.onclick = function () {
        dropDownMenu.classList.toggle('open')
        const isOpen = dropDownMenu.classList.contains('open')

        toggleBtnIcon.classList = isOpen
        ? 'fa-solid fa-xmark'
        : 'fa-solid fa-chevron-down'
        }


        const addBtnTxt = document.getElementById('add_btnTxt');
        const closeBtnTxt = document.getElementById('btn_cancelTxt');

        const addBtnV = document.getElementById('add_btnV');
        const closeBtnV = document.getElementById('btn_cancelV');
        const popupTxt = document.getElementById('popupTxt');
        const todoFormTxt = document.getElementById('todoFormTxt');
        const todoInputTxt = document.getElementById('todoInputTxt');
        const todoListTxt = document.getElementById('todoListTxt');

        const popupV = document.getElementById('popupV');
        const todoFormV = document.getElementById('todoFormV');
        const todoInputV = document.getElementById('todoInputV');
        const todoListV = document.getElementById('todoListV');


        addBtnTxt.addEventListener('click', () => {
            popupTxt.style.display ='block';
        });

        closeBtnTxt.addEventListener('click', () => {
            popupTxt.style.display = 'none';
            });
        
        addBtnV.addEventListener('click', () => {
                popupV.style.display ='block';
            });
    
        closeBtnV.addEventListener('click', () => {
                popupV.style.display = 'none';
                });
    
        todoFormTxt.addEventListener('submit', (e) => {
        e.preventDefault();
        const todoText = todoInputTxt.value;
         if (todoText) {
            const todoItem = document.createElement('li');
            const todoLink = document.createElement('a');
            const todoIcon = document.createElement('i');
            todoLink.href =todoText ;
            todoLink.style.fontFamily = 'Mukta';
            todoLink.innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;' + todoText;
            todoIcon.classList.add('fa', 'fa-hashtag');
            todoItem.appendChild(todoIcon);
            todoItem.appendChild(todoLink);
            todoListTxt.appendChild(todoItem);
            todoInputTxt.value = '';
            popupTxt.style.display = 'none';
        }
        });

        todoFormV.addEventListener('submit', (e) => {
            e.preventDefault();
            const todoText = todoInputV.value;
            if (todoText) {
                const todoItem = document.createElement('li');
                const todoLink = document.createElement('a');
                const todoIcon = document.createElement('i');
                todoLink.href = todoText;
                todoLink.style.fontFamily = 'Mukta';
                todoLink.innerHTML = '&nbsp;&nbsp;&nbsp;&nbsp;' + todoText;
                todoIcon.classList.add('fa', 'fa-volume-high');
                todoItem.appendChild(todoIcon);
                todoItem.appendChild(todoLink);
                todoListV.appendChild(todoItem);
                todoInputV.value = '';
                popupV.style.display = 'none';
            }
            });
        const SpeakButton = document.getElementById("speakerbtn");
        const MicButton = document.getElementById("micbtn");
            
        SpeakButton.addEventListener('click',()=> {
            SpeakButton.i.classList.remove('fa-solid fa-volume');
            SpeakButton.i.classList.remove('fa-solid fa-volume-slash');

        })
            
    </script>
</body>
</html>